# TODO: override the autogenerated create mutation w/ lambda resolver
type StudentAccount
  @model
  @auth(
    rules: [
      { allow: groups, groups: ["Customers"], operations: [create] }
      { allow: groups, groups: ["Teachers"], operations: [read] }
      {
        allow: owner
        ownerField: "customerId"
        operations: [read, update, delete]
      }
      { allow: owner, ownerField: "studentId", operations: [read] }
    ]
  ) {
  id: ID!
  customerId: ID!
  customer: User @function(name: "resolveGraphQLField")
  studentId: ID!
  student: User @function(name: "resolveGraphQLField")
}

# TODO: return useful data in user object
type User {
  id: ID!
}
