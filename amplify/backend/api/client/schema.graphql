# TODO: override the autogenerated create mutation w/ lambda resolver
type StudentAccount
  @model
  @auth(
    rules: [
      { allow: groups, groups: ["Customers"], operations: [create] }
      { allow: groups, groups: ["Teachers"], operations: [read] }
      {
        allow: owner
        ownerField: "customerId"
        operations: [read, update, delete]
      }
      { allow: owner, ownerField: "studentId", operations: [read] }
    ]
  ) {
  id: ID!
  customerId: ID!
  customer: CognitoUser @function(name: "resolveGraphQLField")
  studentId: ID!
  student: CognitoUser @function(name: "resolveGraphQLField")
}

type CognitoUser {
  Username: String!
  UserAttributes: [CognitoUserAttribute]
  UserCreateDate: String
  UserLastModifiedDate: String
  Enabled: Boolean
  UserStatus: CognitoUserStatus
  MFAOptions: [CognitoMFAOption]
  PreferredMfaSetting: String
  UserMFASettingList: String
}

type CognitoUserAttribute {
  Name: String!
  Value: String
}

type CognitoMFAOption {
  DeliveryMedium: String
  AttributeName: String
}

enum CognitoUserStatus {
  UNCONFIRMED
  CONFIRMED
  ARCHIVED
  COMPROMISED
  UNKNOWN
  RESET_REQUIRED
  FORCE_CHANGE_PASSWORD
}
